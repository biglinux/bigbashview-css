#!/bin/bash

usage() {
    echo "Usage: ${0##*/} [options]"
    echo '    -text <text>              text to the switch'
    echo '    -check <checked>          variable: unchecked, checked, disabled, checked disabled'
    echo '    -run <file.run>           File to be executed when clicking the button'
    echo '    -fontSize <number>        1~6'
    echo '    -id <id>     			        id'
    echo '    -border <number>     		  1~5'
    echo '    -margin                   0~5, auto'
    echo '    -marginTop                0~5, auto'
    echo '    -marginBotton             0~5, auto'
    echo '    -marginLeft               0~5, auto'
    echo '    -marginRight              0~5, auto'
    echo '    -marginHorizontal         0~5, auto'
    echo '    -marginVertical           0~5, auto'
    echo ''
    exit $1
}

# Loop to process command-line arguments
while (( "$#" )); do
    case "$1" in
        -text)
            shift
            text="$1"
            ;;
        -check)
            shift
            check="$1"
            ;;
        -run)
            shift
            run="$1"
            ;;
        -id)
            shift
            id="$1"
            ;;
        -fontSize)
            shift
            fontSize="h${1}"
            ;;
        -border)
            shift
            border="border border-${1}"
            ;;
        -margin)
            shift
            margin="my-${1} mx-${1}"
            ;;
        -marginTop)
            shift
            marginTop="mt-${1}"
            ;;
        -marginBotton)
            shift
            marginBotton="mb-${1}"
            ;;
        -marginHorizontal)
            shift
            marginHorizontal="mx-${1}"
            ;;
        -marginLeft)
            shift
            marginLeft="ms-${1}"
            ;;
        -marginRight)
            shift
            marginRight="me-${1}"
            ;;
        -marginVertical)
            shift
            marginVertical="my-${1}"
            ;;
        *)
            usage 1
            ;;
    esac
    shift
done

cat << EOF
<div class="row align-items-center rounded ${border} ${margin} ${marginTop} ${marginBotton} ${marginVertical} ${marginLeft} ${marginRight} ${marginHorizontal}">
  <div class="col-sm d-flex justify-content-end">
EOF
if [ -n "${text}" ];then
cat << EOF
    <div class="col-sm">
      <label class="form-check-label" for="${id}">${text}</label>
    </div>
EOF
fi
cat << EOF
    <form class="form-check form-switch">
      <input onclick="_run('./$run')" class="form-check-input" type="checkbox" role="switch" id="${id}"/>
    </form>
  </div>
</div>
EOF




# cat << EOF
# <div class="form-check form-switch">
#   <input onclick="_run('./$run')" class="form-check-input" type="checkbox" role="switch" id="${id}" $checked>
# EOF
# 
# if [ -n "$text" ];then
# cat << EOF
#     <label class="form-check-label ${fontSize}" for="${id}">${rightText}</label>
# <!--     <span class="text-start ${fontSize}">${rightText}</span> -->
# EOF
# fi
# cat << EOF
# </div>
# EOF
