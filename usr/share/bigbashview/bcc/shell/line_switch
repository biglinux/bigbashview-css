#!/bin/bash

# Function to display usage message
usage() {
    echo "Usage: ${0##*/} [options]"
    echo '    -t <text>'
    echo '    -i <icon.svg>'
    echo '    -c <checked>        variable: unchecked, checked, disabled, checked disabled'
    echo '    -r <file.run>       '
    echo ''
    exit $1
}

# Loop to process command-line arguments
while (( "$#" )); do
    case "$1" in
        -t)
            shift
            text="$1"
            ;;
        -i)
            shift
            icon="$1"
            ;;
        -c)
            shift
            checked="$1"
            ;;
        -r)
            shift
            run="$1"
            ;;
        *)
            usage 1
            ;;
    esac
    shift
done

cat << EOF
<section class="box">
    <div class="row align-items-center bg-secondary text-white rounded-top p-3 mt-4 mx-5 border">
        <div class="col-sm">
            <img src="./${icon}" width="30px" height="30px" class="mx-2"/>
            <label class="form-check-label cursor-pointer" for="flexSwitchCheckDefault">${text}</label>
        </div>
        <div class="col-sm d-flex justify-content-end">
            <form class="form-check form-switch">
            <input onclick="_run('./$run')" class="form-check-input" type="checkbox" role="switch" ${checked}>
            </form>
        </div>
    </div>
</section>
EOF
